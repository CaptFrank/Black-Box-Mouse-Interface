\hypertarget{_main___u_s_b___host_8cpp}{\section{Arduino\-\_\-\-A\-D\-K\-\_\-\-U\-S\-B\-\_\-\-H\-O\-S\-T/\-Main\-\_\-\-U\-S\-B\-\_\-\-Host.cpp File Reference}
\label{_main___u_s_b___host_8cpp}\index{Arduino\-\_\-\-A\-D\-K\-\_\-\-U\-S\-B\-\_\-\-H\-O\-S\-T/\-Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Arduino\-\_\-\-A\-D\-K\-\_\-\-U\-S\-B\-\_\-\-H\-O\-S\-T/\-Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
}
{\ttfamily \#include \char`\"{}../\-System\-\_\-\-Defines/\-Includes.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_main___u_s_b___host_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{setup} ()
\item 
void \hyperlink{_main___u_s_b___host_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop} ()
\item 
void \hyperlink{_main___u_s_b___host_8cpp_a02fd73d861ef2e4aabb38c0c9ff82947}{init} ()
\item 
void \hyperlink{_main___u_s_b___host_8cpp_ab4f7dd9e14a15014426e92cedbb1c6ce}{configure\-\_\-device} (\hyperlink{class_n_v_r_a_m}{N\-V\-R\-A\-M} $\ast$nvram\-\_\-object)
\item 
int \hyperlink{_main___u_s_b___host_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{_main___u_s_b___host_8cpp_ab4f7dd9e14a15014426e92cedbb1c6ce}{\index{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}!configure\-\_\-device@{configure\-\_\-device}}
\index{configure\-\_\-device@{configure\-\_\-device}!Main_USB_Host.cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
\subsubsection[{configure\-\_\-device}]{\setlength{\rightskip}{0pt plus 5cm}void configure\-\_\-device (
\begin{DoxyParamCaption}
\item[{{\bf N\-V\-R\-A\-M} $\ast$}]{nvram\-\_\-object}
\end{DoxyParamCaption}
)}}\label{_main___u_s_b___host_8cpp_ab4f7dd9e14a15014426e92cedbb1c6ce}
This function configures the device with \hyperlink{class_n_v_r_a_m}{N\-V\-R\-A\-M} stored parameters. 
\begin{DoxyParams}{Parameters}
{\em nvram\-\_\-object} & -\/ \hyperlink{class_n_v_r_a_m}{N\-V\-R\-A\-M} \\
\hline
\end{DoxyParams}
Buttons setup

L\-E\-D setup

Set R\-F data. 

Definition at line 13 of file Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp.

\hypertarget{_main___u_s_b___host_8cpp_a02fd73d861ef2e4aabb38c0c9ff82947}{\index{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}!init@{init}}
\index{init@{init}!Main_USB_Host.cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_main___u_s_b___host_8cpp_a02fd73d861ef2e4aabb38c0c9ff82947}
\hypertarget{_main___u_s_b___host_8cpp_afe461d27b9c48d5921c00d521181f12f}{\index{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}!loop@{loop}}
\index{loop@{loop}!Main_USB_Host.cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
\subsubsection[{loop}]{\setlength{\rightskip}{0pt plus 5cm}void loop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_main___u_s_b___host_8cpp_afe461d27b9c48d5921c00d521181f12f}
If the emulation device is chosen. Start the emulation process.

Cast to the emulation device pointer.

Cast to the U\-S\-B device pointer

Something went wrong. 

Definition at line 178 of file Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp.

\hypertarget{_main___u_s_b___host_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{\index{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}!main@{main}}
\index{main@{main}!Main_USB_Host.cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_main___u_s_b___host_8cpp_a840291bc02cba5474a4cb46a9b9566fe}
This is the main function that does the work on the u\-C. It returns 0 if successfully terminated, and 1 is there is an error. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 53 of file Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp.

\hypertarget{_main___u_s_b___host_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{\index{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}!setup@{setup}}
\index{setup@{setup}!Main_USB_Host.cpp@{Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp}}
\subsubsection[{setup}]{\setlength{\rightskip}{0pt plus 5cm}void setup (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_main___u_s_b___host_8cpp_a4fc01d736fe50cf5b977f755b675f11d}
Clear the interrupt flag, to void all interrupts coming in during the setup phase

Loads the settings saved in \hyperlink{class_n_v_r_a_m}{N\-V\-R\-A\-M} Also loads the commands to the cached mem.

Reset and reboot device.

Wait 5sec to check the pin.

Check choice (default = Emulation).

1 -\/ Emulation 0 -\/ Real U\-S\-B device

Defines the generic pointer (E\-M\-U\-L\-A\-T\-I\-O\-N). This is where we setup the object pointer.

Define the generic pointer (U\-S\-B H\-O\-S\-T D\-E\-V\-I\-C\-E). This is where we setup the object pointer.

If none of the above, reset the device.

Timer is initialized to keep track of the C\-P\-U idle time.

U\-S\-B Initialize the buffers and structures pertaining to the U\-S\-B device class.

This allows the U\-S\-B device to re-\/enumerate in the P\-C O\-S.

Check memory integrity

Resume interrupt handling 

Definition at line 66 of file Main\-\_\-\-U\-S\-B\-\_\-\-Host.\-cpp.

